before:
  hooks:
    - make edeps
    - make statik
    - make deps
    - make test

builds:
  - main: ./cmd/mmsd
    id: "mmsd"
    binary: mmsd
    goos:
      - linux
    goarch:
      - amd64
    ldflags:
      - -linkmode external -extldflags "-static"

  - main: ./cmd/mms
    id: "mms"
    binary: mms
    goos:
      - linux
    goarch:
      - amd64
    go_version: 1.20

archives:
  - format: binary

checksum:
  name_template: "checksums.txt"

snapshot:
  name_template: "{{ .Tag }}-next"

env:
  - CGO_ENABLED=1

changelog:
  sort: asc
  filters:
    exclude:
      - "^docs:"
      - "^test:"
